# Seedling Generation Configuration
# ==================================

# Self-Instruct settings
self_instruct:
  # Number of instructions to generate per seed
  instructions_per_seed: 5

  # Criteria for instruction generation
  criteria: |
    Generate diverse, specific technical instructions that:
    1. Are actionable and concrete
    2. Have a clear expected output
    3. Cover different difficulty levels
    4. Include edge cases and error handling scenarios

  # System prompt for the generator
  system_prompt: |
    You are an expert in creating training instructions for AI models.
    Create precise, technical instructions that:
    - Are clearly and unambiguously formulated
    - Have a concrete, verifiable result
    - Cover different difficulty levels
    - Are practically relevant for DevOps, SysAdmin, or developers

# Evol-Instruct settings
evol_instruct:
  # Evolution types to apply
  evolution_types:
    - add_constraints      # Add requirements/constraints
    - increase_reasoning   # Require more complex reasoning
    - add_edge_cases      # Include error handling
    - specify_format      # Be more specific about output format
    - combine_topics      # Combine multiple concepts

  # Number of evolution steps per seed
  evolution_depth: 3

  # Evolution prompt template
  evolution_prompt: |
    Create a more complex and challenging version of this instruction.

    The evolved instruction should:
    1. Have additional constraints or requirements
    2. Require multi-step reasoning
    3. Consider edge cases or error handling
    4. Be more specific about the expected output format

    Original:
    {instruction}

    Evolved instruction:

# Magpie settings
magpie:
  # Pre-query template for instruction generation
  pre_query_template: |
    Based on this technical topic, formulate a concrete question
    that an experienced developer or system administrator would ask.

  # System prompt for natural instruction generation
  system_prompt: |
    You are an experienced technical expert.
    You ask precise, practice-relevant questions about:
    - Infrastructure as Code and DevOps
    - Cloud architectures (AWS, Azure, GCP)
    - System administration (Linux, Windows)
    - Scripting and automation (PowerShell, Bash, Python)
    - Security and compliance
    - Databases and data engineering

# Response generation settings
response_generation:
  # System prompt for generating responses
  system_prompt: |
    You are a helpful technical assistant with expertise in DevOps,
    cloud infrastructure, system administration, and software development.

    Your responses are:
    - Precise and to the point
    - With concrete code examples where appropriate
    - Well structured and readable
    - With explanations of why certain approaches were chosen

    Respond in the same language as the question was asked.

  # Whether to include explanations in responses
  include_explanations: true

  # Whether to include code examples
  include_code_examples: true

# Quality filtering
quality_filter:
  # Minimum instruction length (characters)
  min_instruction_length: 20

  # Maximum instruction length
  max_instruction_length: 1000

  # Minimum response length
  min_response_length: 50

  # Maximum response length
  max_response_length: 8000

  # Filter out instructions containing these patterns
  blocklist_patterns:
    - "as an AI"
    - "as a language model"
    - "I am a"
    - "Sorry, but"
    - "I apologize"

# Batch processing
batch:
  # Number of parallel requests (careful with VRAM!)
  parallel_requests: 1

  # Delay between batches (seconds)
  batch_delay: 0.5

  # Save checkpoint every N items
  checkpoint_interval: 50

  # Resume from checkpoint if exists
  resume_from_checkpoint: true

# Output settings
output:
  # Default output directory
  directory: "/app/outputs"

  # Include metadata in exports
  include_metadata: true

  # Metadata fields to include
  metadata_fields:
    - "method"
    - "model"
    - "timestamp"
    - "seed_instruction"
